var pe=Object.defineProperty,ge=Object.defineProperties;var me=Object.getOwnPropertyDescriptors;var X=Object.getOwnPropertySymbols;var be=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable;var Y=(e,t,r)=>t in e?pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,z=(e,t)=>{for(var r in t||(t={}))be.call(t,r)&&Y(e,r,t[r]);if(X)for(var r of X(t))we.call(t,r)&&Y(e,r,t[r]);return e},D=(e,t)=>ge(e,me(t));import{c as j,o as re,r as ye,a as $e,b as w,d as oe,u as ve,e as ae,f as Z,j as W,k as ie,l as f,m as Se,S as se,n as _e,s as xe,g as C,p as Pe,q as y,v as ee,w as Re,t as E,x as Ce,y as R,z as Ee,N as Ae,A as Le}from"./web.a3ae39aa.js";import te from"./Counter.island.e4706d33.js";import Te from"./Expandable.island.9d5004c0.js";import Oe from"./MediaQuery.island.589fc02b.js";const ke=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}};ke();function Ne(e,t,r){return e.addEventListener(t,r),()=>e.removeEventListener(t,r)}function Ie([e,t],r,o){return[r?()=>r(e()):e,o?n=>t(o(n)):t]}function He(e){try{return document.querySelector(e)}catch{return null}}function Ue(e,t){const r=He(`a#${e}`);r?r.scrollIntoView():t&&window.scrollTo(0,0)}function qe(e,t,r,o){let n=!1;const a=l=>typeof l=="string"?{value:l}:l,i=Ie(j(a(e()),{equals:(l,s)=>l.value===s.value}),void 0,l=>(!n&&t(l),l));return r&&re(r((l=e())=>{n=!0,i[1](a(l)),n=!1})),{signal:i,utils:o}}function ze(e){if(e){if(Array.isArray(e))return{signal:e}}else return{signal:j({value:""})};return e}function Be(){return qe(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:e,replace:t,scroll:r,state:o})=>{t?window.history.replaceState(o,"",e):window.history.pushState(o,"",e),Ue(window.location.hash.slice(1),r)},e=>Ne(window,"popstate",()=>e()),{go:e=>window.history.go(e)})}const je=/^(?:[a-z0-9]+:)?\/\//i,Ke=/^\/+|\/+$/g;function I(e,t=!1){const r=e.replace(Ke,"");return r?t||/^[?#]/.test(r)?r:"/"+r:""}function B(e,t,r){if(je.test(t))return;const o=I(e),n=r&&I(r);let a="";return!n||t.startsWith("/")?a=o:n.toLowerCase().indexOf(o.toLowerCase())!==0?a=o+n:a=n,(a||"/")+I(t,!a)}function Me(e,t){if(e==null)throw new Error(t);return e}function ce(e,t){return I(e).replace(/\/*(\*.*)?$/g,"")+I(t)}function De(e){const t={};return e.searchParams.forEach((r,o)=>{t[o]=r}),t}function O(e,t){return decodeURIComponent(t?e.replace(/\+/g," "):e)}function We(e,t){const[r,o]=e.split("/*",2),n=r.split("/").filter(Boolean),a=n.length;return i=>{const l=i.split("/").filter(Boolean),s=l.length-a;if(s<0||s>0&&o===void 0&&!t)return null;const c={path:a?"":"/",params:{}};for(let h=0;h<a;h++){const b=n[h],g=l[h];if(b[0]===":")c.params[b.slice(1)]=g;else if(b.localeCompare(g,void 0,{sensitivity:"base"})!==0)return null;c.path+=`/${g}`}return o&&(c.params[o]=s?l.slice(-s).join("/"):""),c}}function Fe(e){const[t,r]=e.pattern.split("/*",2),o=t.split("/").filter(Boolean);return o.reduce((n,a)=>n+(a.startsWith(":")?2:3),o.length-(r===void 0?0:1))}function le(e){const t=new Map,r=$e();return new Proxy({},{get(o,n){return t.has(n)||ye(r,()=>t.set(n,w(()=>e()[n]))),t.get(n)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}const Je=100,ue=oe(),K=oe(),F=()=>Me(W(ue),"Make sure your app is wrapped in a <Router />");let H;const J=()=>H||W(K)||F().base,Ve=e=>{const t=J();return w(()=>t.resolvePath(e()))},Ge=e=>{const t=F();return w(()=>{const r=e();return r!==void 0?t.renderPath(r):r})};function Qe(e,t="",r){const{path:o,component:n,data:a,children:i}=e,l=!i||Array.isArray(i)&&!i.length,s=ce(t,o),c=l?s:s.split("/*",1)[0];return{originalPath:o,pattern:c,element:n?()=>f(n,{}):()=>{const{element:h}=e;return h===void 0&&r?f(r,{}):h},preload:e.component?n.preload:e.preload,data:a,matcher:We(c,!l)}}function Xe(e,t=0){return{routes:e,score:Fe(e[e.length-1])*1e4-t,matcher(r){const o=[];for(let n=e.length-1;n>=0;n--){const a=e[n],i=a.matcher(r);if(!i)return null;o.unshift(D(z({},i),{route:a}))}return o}}}function de(e,t="",r,o=[],n=[]){const a=Array.isArray(e)?e:[e];for(let i=0,l=a.length;i<l;i++){const s=a[i];if(s&&typeof s=="object"&&s.hasOwnProperty("path")){const c=Qe(s,t,r);if(o.push(c),s.children)de(s.children,c.pattern,r,o,n);else{const h=Xe([...o],n.length);n.push(h)}o.pop()}}return o.length?n:n.sort((i,l)=>l.score-i.score)}function Ye(e,t){for(let r=0,o=e.length;r<o;r++){const n=e[r].matcher(t);if(n)return n}return[]}function Ze(e,t){const r=new URL("http://sar"),o=w(s=>{const c=e();try{return new URL(c,r)}catch{return console.error(`Invalid path ${c}`),s}},r,{equals:(s,c)=>s.href===c.href}),n=w(()=>O(o().pathname)),a=w(()=>O(o().search,!0)),i=w(()=>O(o().hash)),l=w(()=>"");return{get pathname(){return n()},get search(){return a()},get hash(){return i()},get state(){return t()},get key(){return l()},query:le(ae(a,()=>De(o())))}}function et(e,t="",r,o){const{signal:[n,a],utils:i={}}=ze(e),l=i.parsePath||(p=>p),s=i.renderPath||(p=>p),c=B("",t),h=void 0;if(c===void 0)throw new Error(`${c} is not a valid base path`);c&&!n().value&&a({value:c,replace:!0,scroll:!1});const[b,g]=ve(),[u,$]=j(n().value),[S,A]=j(n().state),x=Ze(u,S),P=[],_={pattern:c,params:{},path:()=>c,outlet:()=>null,resolvePath(p){return B(c,p)}};if(r)try{H=_,_.data=r({data:void 0,params:{},location:x,navigate:q(_)})}finally{H=void 0}function U(p,d,m){Z(()=>{if(typeof d=="number"){d&&(i.go?i.go(d):console.warn("Router integration does not support relative routing"));return}const{replace:k,resolve:N,scroll:V,state:L}=z({replace:!1,resolve:!0,scroll:!0},m),v=N?p.resolvePath(d):B("",d);if(v===void 0)throw new Error(`Path '${d}' is not a routable path`);if(P.length>=Je)throw new Error("Too many redirects");const T=u();if(v!==T||L!==S()){const M=P.push({value:T,replace:k,scroll:V,state:S()});g(()=>{$(v),A(L)}).then(()=>{P.length===M&&he({value:v,state:L})})}})}function q(p){return p=p||W(K)||_,(d,m)=>U(p,d,m)}function he(p){const d=P[0];d&&((p.value!==d.value||p.state!==d.state)&&a(D(z({},p),{replace:d.replace,scroll:d.scroll})),P.length=0)}ie(()=>{const{value:p,state:d}=n();Z(()=>{p!==u()&&g(()=>{$(p),A(d)})})});{let p=function(d){if(d.defaultPrevented||d.button!==0||d.metaKey||d.altKey||d.ctrlKey||d.shiftKey)return;const m=d.composedPath().find(Q=>Q instanceof Node&&Q.nodeName.toUpperCase()==="A");if(!m)return;const k=m instanceof SVGAElement,N=k?m.href.baseVal:m.href;if((k?m.target.baseVal:m.target)||!N&&!m.hasAttribute("state"))return;const L=(m.getAttribute("rel")||"").split(/\s+/);if(m.hasAttribute("download")||L&&L.includes("external"))return;const v=k?new URL(N,document.baseURI):new URL(N),T=O(v.pathname);if(v.origin!==window.location.origin||c&&T&&!T.toLowerCase().startsWith(c.toLowerCase()))return;const M=l(T+O(v.search,!0)+O(v.hash)),G=m.getAttribute("state");d.preventDefault(),U(_,M,{resolve:!1,replace:m.hasAttribute("replace"),scroll:!m.hasAttribute("noscroll"),state:G&&JSON.parse(G)})};document.addEventListener("click",p),re(()=>document.removeEventListener("click",p))}return{base:_,out:h,location:x,isRouting:b,renderPath:s,parsePath:l,navigatorFactory:q}}function tt(e,t,r,o){const{base:n,location:a,navigatorFactory:i}=e,{pattern:l,element:s,preload:c,data:h}=o().route,b=w(()=>o().path),g=le(()=>o().params);c&&c();const u={parent:t,pattern:l,get child(){return r()},path:b,params:g,data:t.data,outlet:s,resolvePath($){return B(n.path(),$,b())}};if(h)try{H=u,u.data=h({data:t.data,params:g,location:a,navigate:i(u)})}finally{H=void 0}return u}const nt=E("<a></a>"),rt=e=>{const{source:t,url:r,base:o,data:n,out:a}=e,i=t||Be(),l=et(i,o,n);return f(ue.Provider,{value:l,get children(){return e.children}})},ot=e=>{const t=F(),r=J(),o=w(()=>de(e.children,ce(r.pattern,e.base||""),at)),n=w(()=>Ye(o(),t.location.pathname));t.out&&t.out.matches.push(n().map(({route:s,path:c,params:h})=>({originalPath:s.originalPath,pattern:s.pattern,path:c,params:h})));const a=[];let i;const l=w(ae(n,(s,c,h)=>{let b=c&&s.length===c.length;const g=[];for(let u=0,$=s.length;u<$;u++){const S=c&&c[u],A=s[u];h&&S&&A.route.pattern===S.route.pattern?g[u]=h[u]:(b=!1,a[u]&&a[u](),Se(x=>{a[u]=x,g[u]=tt(t,g[u-1]||r,()=>l()[u+1],()=>n()[u])}))}return a.splice(s.length).forEach(u=>u()),h&&b?h:(i=g[0],g)}));return f(se,{get when(){return l()&&i},children:s=>f(K.Provider,{value:s,get children(){return s.outlet()}})})},ne=e=>e,at=()=>{const e=J();return f(se,{get when(){return e.child},children:t=>f(K.Provider,{value:t,get children(){return t.outlet()}})})};function it(e){const[,t]=xe(e,["children","to","href","state"]),r=Ge(()=>e.to);return(()=>{const o=C(nt);return Pe(o,t,!1,!0),y(o,()=>e.children),ie(n=>{const a=r()||e.href,i=JSON.stringify(e.state);return a!==n._v$&&ee(o,"href",n._v$=a),i!==n._v$2&&ee(o,"state",n._v$2=i),n},{_v$:void 0,_v$2:void 0}),Re(),o})()}function fe(e){const t=Ve(()=>e.href);return f(it,_e(e,{get to(){return t()}}))}const st=E("<span> </span>");function ct(){return new Promise(e=>setTimeout(()=>e("loaded!"),500))}function lt(){const[e]=Ce(ct);return(()=>{const t=C(st);return t.firstChild,y(t,e),t})()}const ut=E("<main><h1>This page is completely static. Async data:<!#><!/></h1><section>An since it does not contain any interactive islands, no JavaScript is shipped to the browser.</section><!#><!/></main>"),dt=E("<span> loading...</span>");function ft(){return(()=>{const e=C(ut),t=e.firstChild,r=t.firstChild,o=r.nextSibling,[n,a]=R(o.nextSibling),i=t.nextSibling,l=i.nextSibling,[s,c]=R(l.nextSibling);return y(t,f(Ee,{get fallback(){return C(dt)},get children(){return f(lt,{})}}),n,a),y(e,f(fe,{href:"/",children:"Home"}),s,c),e})()}const ht=E("<div></div>");function pt({children:e}){if(!e)throw new Error("TEST: THIS CODE MUST NOT SHOW UP IN THE CLIENT BUNDLE");return(()=>{const t=C(ht);return y(t,e),t})()}const gt=E("<code>ServerContent</code>"),mt=E("<main><h1>Partial hydration with SolidJS and <i>Capri</i></h1><section>This page is static, but contains some dynamic parts.</section><section>This counter is an interactive island: <!#><!/></section><section>And here is another one, independent from the one above: <!#><!/></section><!#><!/><!#><!/><!#><!/></main>");function bt(){return(()=>{const e=C(mt),t=e.firstChild,r=t.nextSibling,o=r.nextSibling,n=o.firstChild,a=n.nextSibling,[i,l]=R(a.nextSibling),s=o.nextSibling,c=s.firstChild,h=c.nextSibling,[b,g]=R(h.nextSibling),u=s.nextSibling,[$,S]=R(u.nextSibling),A=$.nextSibling,[x,P]=R(A.nextSibling),_=x.nextSibling,[U,q]=R(_.nextSibling);return y(o,f(te,{}),i,l),y(s,f(te,{start:100}),b,g),y(e,f(Te,{title:"Click to expand",get children(){return["This island receives children as prop. They are only rendered upon build time.",f(pt,{get children(){return["The code for ",C(gt)," won't show up in the client bundle."]}})]}}),$,S),y(e,f(Oe,{}),x,P),y(e,f(fe,{href:"/about",children:"Link to another page"}),U,q),e})()}function wt(){return f(Ae,{get children(){return f(ot,{get children(){return[f(ne,{path:"/",get element(){return f(bt,{})}}),f(ne,{path:"/about",get element(){return f(ft,{})}})]}})}})}Le(()=>f(rt,{get base(){return"/capri/solid/"},get children(){return f(wt,{})}}),document.getElementById("app"));
