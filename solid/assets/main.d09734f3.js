var he=Object.defineProperty,fe=Object.defineProperties;var de=Object.getOwnPropertyDescriptors;var W=Object.getOwnPropertySymbols;var pe=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable;var J=(e,t,r)=>t in e?he(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,T=(e,t)=>{for(var r in t||(t={}))pe.call(t,r)&&J(e,r,t[r]);if(W)for(var r of W(t))ge.call(t,r)&&J(e,r,t[r]);return e},K=(e,t)=>fe(e,de(t));import{c as j,o as Y,r as me,g as we,a as y,b as Z,u as ye,d as ee,e as V,f as U,i as be,j as m,k as ve,S as te,l as ne,t as re,m as D,n as G,p as Re}from"./web.6cb06f90.js";import{CounterIsland as X}from"./Counter.island.334d1fe5.js";const Se=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}};Se();function Pe(e,t,r){return e.addEventListener(t,r),()=>e.removeEventListener(t,r)}function $e([e,t],r,o){return[r?()=>r(e()):e,o?n=>t(o(n)):t]}function Ce(e){try{return document.querySelector(e)}catch{return null}}function Ae(e,t){const r=Ce(`a#${e}`);r?r.scrollIntoView():t&&window.scrollTo(0,0)}function xe(e,t,r,o){let n=!1;const a=l=>typeof l=="string"?{value:l}:l,i=$e(j(a(e()),{equals:(l,s)=>l.value===s.value}),void 0,l=>(!n&&t(l),l));return r&&Y(r((l=e())=>{n=!0,i[1](a(l)),n=!1})),{signal:i,utils:o}}function Le(e){if(e){if(Array.isArray(e))return{signal:e}}else return{signal:j({value:""})};return e}function Ee(){return xe(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:e,replace:t,scroll:r,state:o})=>{t?window.history.replaceState(o,"",e):window.history.pushState(o,"",e),Ae(window.location.hash.slice(1),r)},e=>Pe(window,"popstate",()=>e()),{go:e=>window.history.go(e)})}const _e=/^(?:[a-z0-9]+:)?\/\//i,Oe=/^\/+|\/+$/g;function E(e,t=!1){const r=e.replace(Oe,"");return r?t||/^[?#]/.test(r)?r:"/"+r:""}function N(e,t,r){if(_e.test(t))return;const o=E(e),n=r&&E(r);let a="";return!n||t.startsWith("/")?a=o:n.toLowerCase().indexOf(o.toLowerCase())!==0?a=o+n:a=n,(a||"/")+E(t,!a)}function Ie(e,t){if(e==null)throw new Error(t);return e}function oe(e,t){return E(e).replace(/\/*(\*.*)?$/g,"")+E(t)}function Te(e){const t={};return e.searchParams.forEach((r,o)=>{t[o]=r}),t}function C(e,t){return decodeURIComponent(t?e.replace(/\+/g," "):e)}function Ne(e,t){const[r,o]=e.split("/*",2),n=r.split("/").filter(Boolean),a=n.length;return i=>{const l=i.split("/").filter(Boolean),s=l.length-a;if(s<0||s>0&&o===void 0&&!t)return null;const c={path:a?"":"/",params:{}};for(let h=0;h<a;h++){const w=n[h],p=l[h];if(w[0]===":")c.params[w.slice(1)]=p;else if(w.localeCompare(p,void 0,{sensitivity:"base"})!==0)return null;c.path+=`/${p}`}return o&&(c.params[o]=s?l.slice(-s).join("/"):""),c}}function je(e){const[t,r]=e.pattern.split("/*",2),o=t.split("/").filter(Boolean);return o.reduce((n,a)=>n+(a.startsWith(":")?2:3),o.length-(r===void 0?0:1))}function ae(e){const t=new Map,r=we();return new Proxy({},{get(o,n){return t.has(n)||me(r,()=>t.set(n,y(()=>e()[n]))),t.get(n)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}const ke=100,se=Z(),k=Z(),ie=()=>Ie(U(se),"Make sure your app is wrapped in a <Router />");let _;const ce=()=>_||U(k)||ie().base;function qe(e,t="",r){const{path:o,component:n,data:a,children:i}=e,l=!i||Array.isArray(i)&&!i.length,s=oe(t,o),c=l?s:s.split("/*",1)[0];return{originalPath:o,pattern:c,element:n?()=>m(n,{}):()=>{const{element:h}=e;return h===void 0&&r?m(r,{}):h},preload:e.component?n.preload:e.preload,data:a,matcher:Ne(c,!l)}}function Ke(e,t=0){return{routes:e,score:je(e[e.length-1])*1e4-t,matcher(r){const o=[];for(let n=e.length-1;n>=0;n--){const a=e[n],i=a.matcher(r);if(!i)return null;o.unshift(K(T({},i),{route:a}))}return o}}}function le(e,t="",r,o=[],n=[]){const a=Array.isArray(e)?e:[e];for(let i=0,l=a.length;i<l;i++){const s=a[i];if(s&&typeof s=="object"&&s.hasOwnProperty("path")){const c=qe(s,t,r);if(o.push(c),s.children)le(s.children,c.pattern,r,o,n);else{const h=Ke([...o],n.length);n.push(h)}o.pop()}}return o.length?n:n.sort((i,l)=>l.score-i.score)}function Ue(e,t){for(let r=0,o=e.length;r<o;r++){const n=e[r].matcher(t);if(n)return n}return[]}function Be(e,t){const r=new URL("http://sar"),o=y(s=>{const c=e();try{return new URL(c,r)}catch{return console.error(`Invalid path ${c}`),s}},r,{equals:(s,c)=>s.href===c.href}),n=y(()=>C(o().pathname)),a=y(()=>C(o().search,!0)),i=y(()=>C(o().hash)),l=y(()=>"");return{get pathname(){return n()},get search(){return a()},get hash(){return i()},get state(){return t()},get key(){return l()},query:ae(ee(a,()=>Te(o())))}}function ze(e,t="",r,o){const{signal:[n,a],utils:i={}}=Le(e),l=i.parsePath||(d=>d),s=i.renderPath||(d=>d),c=N("",t),h=void 0;if(c===void 0)throw new Error(`${c} is not a valid base path`);c&&!n().value&&a({value:c,replace:!0,scroll:!1});const[w,p]=ye(),[f,v]=j(n().value),[R,O]=j(n().state),I=Be(f,R),A=[],S={pattern:c,params:{},path:()=>c,outlet:()=>null,resolvePath(d){return N(c,d)}};if(r)try{_=S,S.data=r({data:void 0,params:{},location:I,navigate:z(S)})}finally{_=void 0}function B(d,u,g){V(()=>{if(typeof u=="number"){u&&(i.go?i.go(u):console.warn("Router integration does not support relative routing"));return}const{replace:x,resolve:L,scroll:M,state:P}=T({replace:!1,resolve:!0,scroll:!0},g),b=L?d.resolvePath(u):N("",u);if(b===void 0)throw new Error(`Path '${u}' is not a routable path`);if(A.length>=ke)throw new Error("Too many redirects");const $=f();if(b!==$||P!==R()){const q=A.push({value:$,replace:x,scroll:M,state:R()});p(()=>{v(b),O(P)}).then(()=>{A.length===q&&ue({value:b,state:P})})}})}function z(d){return d=d||U(k)||S,(u,g)=>B(d,u,g)}function ue(d){const u=A[0];u&&((d.value!==u.value||d.state!==u.state)&&a(K(T({},d),{replace:u.replace,scroll:u.scroll})),A.length=0)}be(()=>{const{value:d,state:u}=n();V(()=>{d!==f()&&p(()=>{v(d),O(u)})})});{let d=function(u){if(u.defaultPrevented||u.button!==0||u.metaKey||u.altKey||u.ctrlKey||u.shiftKey)return;const g=u.composedPath().find(H=>H instanceof Node&&H.nodeName.toUpperCase()==="A");if(!g)return;const x=g instanceof SVGAElement,L=x?g.href.baseVal:g.href;if((x?g.target.baseVal:g.target)||!L&&!g.hasAttribute("state"))return;const P=(g.getAttribute("rel")||"").split(/\s+/);if(g.hasAttribute("download")||P&&P.includes("external"))return;const b=x?new URL(L,document.baseURI):new URL(L),$=C(b.pathname);if(b.origin!==window.location.origin||c&&$&&!$.toLowerCase().startsWith(c.toLowerCase()))return;const q=l($+C(b.search,!0)+C(b.hash)),F=g.getAttribute("state");u.preventDefault(),B(S,q,{resolve:!1,replace:g.hasAttribute("replace"),scroll:!g.hasAttribute("noscroll"),state:F&&JSON.parse(F)})};document.addEventListener("click",d),Y(()=>document.removeEventListener("click",d))}return{base:S,out:h,location:I,isRouting:w,renderPath:s,parsePath:l,navigatorFactory:z}}function Me(e,t,r,o){const{base:n,location:a,navigatorFactory:i}=e,{pattern:l,element:s,preload:c,data:h}=o().route,w=y(()=>o().path),p=ae(()=>o().params);c&&c();const f={parent:t,pattern:l,get child(){return r()},path:w,params:p,data:t.data,outlet:s,resolvePath(v){return N(n.path(),v,w())}};if(h)try{_=f,f.data=h({data:t.data,params:p,location:a,navigate:i(f)})}finally{_=void 0}return f}const Fe=e=>{const{source:t,url:r,base:o,data:n,out:a}=e,i=t||Ee(),l=ze(i,o,n);return m(se.Provider,{value:l,get children(){return e.children}})},He=e=>{const t=ie(),r=ce(),o=y(()=>le(e.children,oe(r.pattern,e.base||""),We)),n=y(()=>Ue(o(),t.location.pathname));t.out&&t.out.matches.push(n().map(({route:s,path:c,params:h})=>({originalPath:s.originalPath,pattern:s.pattern,path:c,params:h})));const a=[];let i;const l=y(ee(n,(s,c,h)=>{let w=c&&s.length===c.length;const p=[];for(let f=0,v=s.length;f<v;f++){const R=c&&c[f],O=s[f];h&&R&&O.route.pattern===R.route.pattern?p[f]=h[f]:(w=!1,a[f]&&a[f](),ve(I=>{a[f]=I,p[f]=Me(t,p[f-1]||r,()=>l()[f+1],()=>n()[f])}))}return a.splice(s.length).forEach(f=>f()),h&&w?h:(i=p[0],p)}));return m(te,{get when(){return l()&&i},children:s=>m(k.Provider,{value:s,get children(){return s.outlet()}})})},Q=e=>e,We=()=>{const e=ce();return m(te,{get when(){return e.child},children:t=>m(k.Provider,{value:t,get children(){return t.outlet()}})})};const Je=re('<main><h1>This page is completely static.</h1><section>An since it does not contain any interactive islands, no JavaScript is shipped to the browser.</section><a href="..">Home</a></main>');function Ve(){return ne(Je)}const De=re('<main><h1>Partial hydration with <i>Capri</i></h1><section>This page is static, but contains some dynamic parts. It was generated upon build time using <a href="https://www.solidjs.com/">SolidJS</a> and <a href="https://capri.build">Capri</a>.</section><section>This counter is an interactive island: <!#><!/></section><section>And here is another one, independent from the one above: <!#><!/></section><a href="about">Link to another page</a></main>');function Ge(){return(()=>{const e=ne(De),t=e.firstChild,r=t.nextSibling,o=r.nextSibling,n=o.firstChild,a=n.nextSibling,[i,l]=D(a.nextSibling),s=o.nextSibling,c=s.firstChild,h=c.nextSibling,[w,p]=D(h.nextSibling);return G(o,m(X,{}),i,l),G(s,m(X,{start:100}),w,p),e})()}function Xe(){return m(He,{get children(){return[m(Q,{path:"/",get element(){return m(Ge,{})}}),m(Q,{path:"/about",get element(){return m(Ve,{})}})]}})}Re(()=>m(Fe,{get children(){return m(Xe,{})}}),document.getElementById("app"));
