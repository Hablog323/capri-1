var ge=Object.defineProperty,pe=Object.defineProperties;var me=Object.getOwnPropertyDescriptors;var Q=Object.getOwnPropertySymbols;var we=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable;var Y=(e,t,r)=>t in e?ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,N=(e,t)=>{for(var r in t||(t={}))we.call(t,r)&&Y(e,r,t[r]);if(Q)for(var r of Q(t))be.call(t,r)&&Y(e,r,t[r]);return e},K=(e,t)=>pe(e,me(t));import{c as j,o as re,r as ye,g as ve,a as b,b as oe,u as $e,d as ae,e as Z,f as U,i as se,j as g,k as Se,S as ie,m as Pe,s as Re,l as z,n as _e,p as L,q as ee,t as xe,v as M,w as T,x as Ae}from"./web.f5073502.js";import{CounterIsland as te}from"./Counter.island.8071f398.js";const Ce=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}};Ce();function Le(e,t,r){return e.addEventListener(t,r),()=>e.removeEventListener(t,r)}function Ee([e,t],r,o){return[r?()=>r(e()):e,o?n=>t(o(n)):t]}function Oe(e){try{return document.querySelector(e)}catch{return null}}function Ie(e,t){const r=Oe(`a#${e}`);r?r.scrollIntoView():t&&window.scrollTo(0,0)}function ke(e,t,r,o){let n=!1;const a=l=>typeof l=="string"?{value:l}:l,s=Ee(j(a(e()),{equals:(l,i)=>l.value===i.value}),void 0,l=>(!n&&t(l),l));return r&&re(r((l=e())=>{n=!0,s[1](a(l)),n=!1})),{signal:s,utils:o}}function Ne(e){if(e){if(Array.isArray(e))return{signal:e}}else return{signal:j({value:""})};return e}function Te(){return ke(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:e,replace:t,scroll:r,state:o})=>{t?window.history.replaceState(o,"",e):window.history.pushState(o,"",e),Ie(window.location.hash.slice(1),r)},e=>Le(window,"popstate",()=>e()),{go:e=>window.history.go(e)})}const qe=/^(?:[a-z0-9]+:)?\/\//i,je=/^\/+|\/+$/g;function E(e,t=!1){const r=e.replace(je,"");return r?t||/^[?#]/.test(r)?r:"/"+r:""}function q(e,t,r){if(qe.test(t))return;const o=E(e),n=r&&E(r);let a="";return!n||t.startsWith("/")?a=o:n.toLowerCase().indexOf(o.toLowerCase())!==0?a=o+n:a=n,(a||"/")+E(t,!a)}function Be(e,t){if(e==null)throw new Error(t);return e}function ce(e,t){return E(e).replace(/\/*(\*.*)?$/g,"")+E(t)}function He(e){const t={};return e.searchParams.forEach((r,o)=>{t[o]=r}),t}function _(e,t){return decodeURIComponent(t?e.replace(/\+/g," "):e)}function Ke(e,t){const[r,o]=e.split("/*",2),n=r.split("/").filter(Boolean),a=n.length;return s=>{const l=s.split("/").filter(Boolean),i=l.length-a;if(i<0||i>0&&o===void 0&&!t)return null;const c={path:a?"":"/",params:{}};for(let f=0;f<a;f++){const w=n[f],p=l[f];if(w[0]===":")c.params[w.slice(1)]=p;else if(w.localeCompare(p,void 0,{sensitivity:"base"})!==0)return null;c.path+=`/${p}`}return o&&(c.params[o]=i?l.slice(-i).join("/"):""),c}}function Ue(e){const[t,r]=e.pattern.split("/*",2),o=t.split("/").filter(Boolean);return o.reduce((n,a)=>n+(a.startsWith(":")?2:3),o.length-(r===void 0?0:1))}function le(e){const t=new Map,r=ve();return new Proxy({},{get(o,n){return t.has(n)||ye(r,()=>t.set(n,b(()=>e()[n]))),t.get(n)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}const ze=100,ue=oe(),B=oe(),W=()=>Be(U(ue),"Make sure your app is wrapped in a <Router />");let O;const F=()=>O||U(B)||W().base,Me=e=>{const t=F();return b(()=>t.resolvePath(e()))},We=e=>{const t=W();return b(()=>{const r=e();return r!==void 0?t.renderPath(r):r})};function Fe(e,t="",r){const{path:o,component:n,data:a,children:s}=e,l=!s||Array.isArray(s)&&!s.length,i=ce(t,o),c=l?i:i.split("/*",1)[0];return{originalPath:o,pattern:c,element:n?()=>g(n,{}):()=>{const{element:f}=e;return f===void 0&&r?g(r,{}):f},preload:e.component?n.preload:e.preload,data:a,matcher:Ke(c,!l)}}function Je(e,t=0){return{routes:e,score:Ue(e[e.length-1])*1e4-t,matcher(r){const o=[];for(let n=e.length-1;n>=0;n--){const a=e[n],s=a.matcher(r);if(!s)return null;o.unshift(K(N({},s),{route:a}))}return o}}}function he(e,t="",r,o=[],n=[]){const a=Array.isArray(e)?e:[e];for(let s=0,l=a.length;s<l;s++){const i=a[s];if(i&&typeof i=="object"&&i.hasOwnProperty("path")){const c=Fe(i,t,r);if(o.push(c),i.children)he(i.children,c.pattern,r,o,n);else{const f=Je([...o],n.length);n.push(f)}o.pop()}}return o.length?n:n.sort((s,l)=>l.score-s.score)}function Ve(e,t){for(let r=0,o=e.length;r<o;r++){const n=e[r].matcher(t);if(n)return n}return[]}function De(e,t){const r=new URL("http://sar"),o=b(i=>{const c=e();try{return new URL(c,r)}catch{return console.error(`Invalid path ${c}`),i}},r,{equals:(i,c)=>i.href===c.href}),n=b(()=>_(o().pathname)),a=b(()=>_(o().search,!0)),s=b(()=>_(o().hash)),l=b(()=>"");return{get pathname(){return n()},get search(){return a()},get hash(){return s()},get state(){return t()},get key(){return l()},query:le(ae(a,()=>He(o())))}}function Ge(e,t="",r,o){const{signal:[n,a],utils:s={}}=Ne(e),l=s.parsePath||(d=>d),i=s.renderPath||(d=>d),c=q("",t),f=void 0;if(c===void 0)throw new Error(`${c} is not a valid base path`);c&&!n().value&&a({value:c,replace:!0,scroll:!1});const[w,p]=$e(),[u,v]=j(n().value),[$,I]=j(n().state),k=De(u,$),x=[],S={pattern:c,params:{},path:()=>c,outlet:()=>null,resolvePath(d){return q(c,d)}};if(r)try{O=S,S.data=r({data:void 0,params:{},location:k,navigate:V(S)})}finally{O=void 0}function J(d,h,m){Z(()=>{if(typeof h=="number"){h&&(s.go?s.go(h):console.warn("Router integration does not support relative routing"));return}const{replace:A,resolve:C,scroll:D,state:P}=N({replace:!1,resolve:!0,scroll:!0},m),y=C?d.resolvePath(h):q("",h);if(y===void 0)throw new Error(`Path '${h}' is not a routable path`);if(x.length>=ze)throw new Error("Too many redirects");const R=u();if(y!==R||P!==$()){const H=x.push({value:R,replace:A,scroll:D,state:$()});p(()=>{v(y),I(P)}).then(()=>{x.length===H&&de({value:y,state:P})})}})}function V(d){return d=d||U(B)||S,(h,m)=>J(d,h,m)}function de(d){const h=x[0];h&&((d.value!==h.value||d.state!==h.state)&&a(K(N({},d),{replace:h.replace,scroll:h.scroll})),x.length=0)}se(()=>{const{value:d,state:h}=n();Z(()=>{d!==u()&&p(()=>{v(d),I(h)})})});{let d=function(h){if(h.defaultPrevented||h.button!==0||h.metaKey||h.altKey||h.ctrlKey||h.shiftKey)return;const m=h.composedPath().find(X=>X instanceof Node&&X.nodeName.toUpperCase()==="A");if(!m)return;const A=m instanceof SVGAElement,C=A?m.href.baseVal:m.href;if((A?m.target.baseVal:m.target)||!C&&!m.hasAttribute("state"))return;const P=(m.getAttribute("rel")||"").split(/\s+/);if(m.hasAttribute("download")||P&&P.includes("external"))return;const y=A?new URL(C,document.baseURI):new URL(C),R=_(y.pathname);if(y.origin!==window.location.origin||c&&R&&!R.toLowerCase().startsWith(c.toLowerCase()))return;const H=l(R+_(y.search,!0)+_(y.hash)),G=m.getAttribute("state");h.preventDefault(),J(S,H,{resolve:!1,replace:m.hasAttribute("replace"),scroll:!m.hasAttribute("noscroll"),state:G&&JSON.parse(G)})};document.addEventListener("click",d),re(()=>document.removeEventListener("click",d))}return{base:S,out:f,location:k,isRouting:w,renderPath:i,parsePath:l,navigatorFactory:V}}function Xe(e,t,r,o){const{base:n,location:a,navigatorFactory:s}=e,{pattern:l,element:i,preload:c,data:f}=o().route,w=b(()=>o().path),p=le(()=>o().params);c&&c();const u={parent:t,pattern:l,get child(){return r()},path:w,params:p,data:t.data,outlet:i,resolvePath(v){return q(n.path(),v,w())}};if(f)try{O=u,u.data=f({data:t.data,params:p,location:a,navigate:s(u)})}finally{O=void 0}return u}const Qe=M("<a></a>"),Ye=e=>{const{source:t,url:r,base:o,data:n,out:a}=e,s=t||Te(),l=Ge(s,o,n);return g(ue.Provider,{value:l,get children(){return e.children}})},Ze=e=>{const t=W(),r=F(),o=b(()=>he(e.children,ce(r.pattern,e.base||""),et)),n=b(()=>Ve(o(),t.location.pathname));t.out&&t.out.matches.push(n().map(({route:i,path:c,params:f})=>({originalPath:i.originalPath,pattern:i.pattern,path:c,params:f})));const a=[];let s;const l=b(ae(n,(i,c,f)=>{let w=c&&i.length===c.length;const p=[];for(let u=0,v=i.length;u<v;u++){const $=c&&c[u],I=i[u];f&&$&&I.route.pattern===$.route.pattern?p[u]=f[u]:(w=!1,a[u]&&a[u](),Se(k=>{a[u]=k,p[u]=Xe(t,p[u-1]||r,()=>l()[u+1],()=>n()[u])}))}return a.splice(i.length).forEach(u=>u()),f&&w?f:(s=p[0],p)}));return g(ie,{get when(){return l()&&s},children:i=>g(B.Provider,{value:i,get children(){return i.outlet()}})})},ne=e=>e,et=()=>{const e=F();return g(ie,{get when(){return e.child},children:t=>g(B.Provider,{value:t,get children(){return t.outlet()}})})};function tt(e){const[,t]=Re(e,["children","to","href","state"]),r=We(()=>e.to);return(()=>{const o=z(Qe);return _e(o,t,!1,!0),L(o,()=>e.children),se(n=>{const a=r()||e.href,s=JSON.stringify(e.state);return a!==n._v$&&ee(o,"href",n._v$=a),s!==n._v$2&&ee(o,"state",n._v$2=s),n},{_v$:void 0,_v$2:void 0}),xe(),o})()}function fe(e){const t=Me(()=>e.href);return g(tt,Pe(e,{get to(){return t()}}))}const nt=M("<main><h1>This page is completely static.</h1><section>An since it does not contain any interactive islands, no JavaScript is shipped to the browser.</section><!#><!/></main>");function rt(){return(()=>{const e=z(nt),t=e.firstChild,r=t.nextSibling,o=r.nextSibling,[n,a]=T(o.nextSibling);return L(e,g(fe,{href:"/",children:"Home"}),n,a),e})()}const ot=M("<main><h1>Welcome to <i>Capri</i></h1><section>This page is static, but contains some dynamic parts.</section><section>Here is a simple counter: <!#><!/></section><section>And here is another one, independent from the one above: <!#><!/></section><!#><!/></main>");function at(){return(()=>{const e=z(ot),t=e.firstChild,r=t.nextSibling,o=r.nextSibling,n=o.firstChild,a=n.nextSibling,[s,l]=T(a.nextSibling),i=o.nextSibling,c=i.firstChild,f=c.nextSibling,[w,p]=T(f.nextSibling),u=i.nextSibling,[v,$]=T(u.nextSibling);return L(o,g(te,{}),s,l),L(i,g(te,{start:100}),w,p),L(e,g(fe,{href:"/about",children:"Link to another page"}),v,$),e})()}function st(){return g(Ze,{get children(){return[g(ne,{path:"/",get element(){return g(at,{})}}),g(ne,{path:"/about",get element(){return g(rt,{})}})]}})}Ae(()=>g(Ye,{get children(){return g(st,{})}}),document.getElementById("app"));
